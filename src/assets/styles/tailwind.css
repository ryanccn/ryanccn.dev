@tailwind base;

:root {
  --fg: 15 23 42;
  --fg-brighter: 0 0 0;
  --fg-less-dimmed: 51 65 85;
  --fg-dimmed: 100 116 139;
  --accent: 37 99 235;
  --accent-lighter: 59 130 246;

  --background: 255 255 255;
  --surface: 248 250 252;
  --surface-hover: 241 245 249;
}

.theme-dark {
  --fg: 226 232 240;
  --fg-brighter: 255 255 255;
  --fg-less-dimmed: 228 228 231;
  --fg-dimmed: 212 212 216;
  --accent: 96 165 250;
  --accent-lighter: 59 130 246;

  --background: 24 24 27;
  --surface: 39 39 42;
  --surface-hover: 63 63 70;
}

.theme-ctp-latte {
  --fg: 76 79 105;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 92 95 119;
  --fg-dimmed: 108 111 133;
  --accent: 4 165 229;
  --accent-lighter: 34 190 252; /* not part of the default palette, lightened via HSL */

  --background: 239 241 245;
  --surface: 204 208 218;
  --surface-hover: 188 192 204;
}

.theme-ctp-frappe {
  --fg: 198 208 245;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 181 191 226;
  --fg-dimmed: 165 173 206;
  --accent: 140 170 238;
  --accent-lighter: 166 189 242; /* same as above */

  --background: 48 52 70;
  --surface: 65 69 89;
  --surface-hover: 81 87 109;
}

.theme-ctp-macchiato {
  --fg: 202 211 245;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 184 192 224;
  --fg-dimmed: 165 173 203;
  --accent: 138 173 244;
  --accent-lighter: 162 190 246; /* same as above */

  --background: 36 39 58;
  --surface: 54 58 79;
  --surface-hover: 73 77 100;
}

.theme-ctp-mocha {
  --fg: 205 214 244;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 186 194 222;
  --fg-dimmed: 166 173 200;
  --accent: 137 180 250;
  --accent-lighter: 162 196 251; /* same as above */

  --background: 30 30 46;
  --surface: 49 50 68;
  --surface-hover: 69 71 90;
}

.theme-nord-light {
  --fg: 46 52 64;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 59 66 82;
  --fg-dimmed: 67 76 94;
  --accent: 129 161 193;
  --accent-lighter: 136 192 208;

  --background: 236 239 244;
  --surface: 229 233 240;
  --surface-hover: 216 222 233;
}

.theme-nord-dark {
  --fg: 236 239 244;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 229 233 240;
  --fg-dimmed: 216 222 233;
  --accent: 136 192 208;
  --accent-lighter: 129 161 193;

  --background: 46 52 64;
  --surface: 59 66 82;
  --surface-hover: 67 76 94;
}

.theme-pink-light {
  --fg: 131 24 67;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 157 23 77;
  --fg-dimmed: 190 24 93;
  --accent: 236 72 153;
  --accent-lighter: 244 114 182;

  --background: 252 231 243;
  --surface: 251 207 232;
  --surface-hover: 249 168 212;
}

.theme-pink-dark {
  --fg: 249 202 226;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 251 207 232;
  --fg-dimmed: 249 168 212;
  --accent: 237 84 160;
  --accent-lighter: 236 72 153;

  --background: 40 4 22;
  --surface: 59 6 33;
  --surface-hover: 79 8 44;
}

.theme-rose-pine {
  --fg: 224 222 244;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 144 140 170;
  --fg-dimmed: 110 106 134;
  --accent: 235 188 186;
  --accent-lighter: 241 209 208; /* lightened 5% by HSL */

  --background: 25 23 36;
  --surface: 31 29 46;
  --surface-hover: 38 35 58;
}

.theme-rose-pine-moon {
  --fg: 224 222 244;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 144 140 170;
  --fg-dimmed: 110 106 134;
  --accent: 234 154 151;
  --accent-lighter: 238 173 170; /* lightened 5% by HSL */

  --background: 35 33 54;
  --surface: 42 39 63;
  --surface-hover: 57 53 82;
}

.theme-rose-pine-dawn {
  --fg: 87 82 121;
  --fg-brighter: var(--fg);
  --fg-less-dimmed: 121 117 147;
  --fg-dimmed: 152 147 165;
  --accent: 215 130 126;
  --accent-lighter: 221 150 146; /* lightened 5% by HSL */

  --background: 250 244 237;
  --surface: 255 250 243;
  --surface-hover: 242 233 222;
}

@tailwind components;
@tailwind utilities;

@layer components {
  html {
    font-size: 15px;
    scroll-behavior: smooth;
  }

  body {
    @apply flex min-h-screen flex-col;
    @apply mx-auto max-w-[130ch] overflow-y-scroll px-6 pb-32;
    @apply bg-background text-fg;
    scrollbar-color: rgb(var(--surface-hover)) rgb(var(--surface));
  }

  ::selection {
    @apply bg-accent text-background;
  }

  a,
  button,
  input,
  textarea {
    @apply outline-none focus:ring focus:ring-accent/50;
  }

  .title {
    @apply mb-8 text-6xl font-extrabold tracking-tight text-fg-brighter text-wrap-balance;
  }

  .subtitle {
    @apply text-2xl tracking-tight text-fg-less-dimmed;
  }

  .enhanced-prose {
    @apply prose-h1:title break-words;
    @apply prose-a:underline-offset-2 prose-a:decoration-fg-dimmed hover:prose-a:decoration-fg-less-dimmed prose-a:transition-all;
    /* @apply prose-a:transition-colors hover:prose-a:text-accent-lighter dark:hover:prose-a:text-accent-lighter; */
    @apply dark:prose-pre:bg-surface;
    @apply prose-img:mx-auto;
    @apply max-w-none;

    --tw-prose-body: rgba(var(--fg) / 1);
    --tw-prose-headings: rgba(var(--fg-brighter) / 1);
    /* --tw-prose-links: rgba(var(--accent) / 1); */
    --tw-prose-links: rgba(var(--fg) / 1);
    --tw-prose-code: rgba(var(--fg) / 1);
    --tw-prose-bold: rgba(var(--fg-brighter) / 1);
    --tw-prose-quotes: rgba(var(--fg) / 1);
    --tw-prose-quote-borders: rgba(var(--surface) / 1);
    --tw-prose-bullets: rgba(var(--fg-dimmed) / 1);
    --tw-prose-hr: rgba(var(--fg-dimmed) / 1);
    --tw-prose-captions: rgba(var(--fg-dimmed) / 1);

    & :is(h2, h3, h4, h5) {
      @apply flex items-center;
    }
    & :is(h2, h3, h4, h5) .anchor {
      @apply ml-3 text-base font-medium text-fg-dimmed no-underline hover:text-fg-less-dimmed;
    }
    & :is(h2, h3, h4, h5):target .anchor {
      @apply text-accent hover:text-accent-lighter;
    }
  }

  .link {
    @apply text-fg hover:text-accent;
  }

  .buttonish,
  button {
    @apply flex items-center space-x-3 rounded px-4 py-2 text-sm font-medium;
    @apply bg-surface transition-all hover:bg-surface-hover disabled:opacity-75;

    &.primary {
      @apply bg-accent text-white;
    }
  }

  h2.projects-page {
    @apply mb-6 text-2xl font-bold;
  }

  .projects-grid {
    @apply mb-12 grid grid-cols-1 gap-2 md:grid-cols-2 lg:grid-cols-4;

    & li a {
      @apply h-full;
    }
  }
}

@layer utilities {
  .text-wrap-balance {
    text-wrap: balance;
  }
}
